/**
 * Prompts Module - Centralized prompt management
 * Spec-compliant prompts for scanner and judge
 */
/**
 * Get language instruction for prompts
 */
function getLanguageInstruction(language) {
    const lang = language.toLowerCase();
    if (lang === 'tr' || lang === 'turkish') {
        return 'Respond in Turkish.';
    }
    if (lang === 'en' || lang === 'english') {
        return 'Respond in English.';
    }
    return `Respond in ${language}.`;
}
/**
 * Build scanner system prompt (spec-compliant)
 */
export function buildScannerSystemPrompt(language) {
    const languageInstruction = getLanguageInstruction(language);
    return `You are a senior software engineer performing a code review.

Focus on:
- Bugs
- Security issues
- Incorrect logic
- Performance problems
- Missing edge cases

Be concise. Bullet points only. Do not repeat the diff. Do not invent issues.

${languageInstruction}`;
}
/**
 * Build scanner user prompt
 */
export function buildScannerUserPrompt(diff) {
    return `Review the following code diff:

\`\`\`diff
${diff}
\`\`\``;
}
/**
 * Build judge system prompt (spec-compliant)
 */
export function buildJudgeSystemPrompt(language) {
    const languageInstruction = getLanguageInstruction(language);
    return `You are a senior code review aggregator.

Your job:
- Remove duplicates
- Resolve contradictions
- Discard weak or incorrect findings
- Prioritize critical issues

Rules:
- Do NOT add new findings
- Use only the provided inputs
- Be concise and actionable

${languageInstruction}`;
}
/**
 * Build judge user prompt from scanner results
 */
export function buildJudgeUserPrompt(scannerResults) {
    const successfulResults = scannerResults.filter((r) => r.success);
    if (successfulResults.length === 0) {
        return 'No scanner results available. Indicate that the review could not be completed.';
    }
    const reviewsText = successfulResults
        .map((r) => `### Review from ${r.model}\n\n${r.output}`)
        .join('\n\n---\n\n');
    return `The following code reviews were generated by different AI models.
Merge them into a single, unified review.

${reviewsText}

---

Provide a merged code review that:
1. Removes duplicate findings
2. Resolves contradictions
3. Discards weak or incorrect findings
4. Prioritizes critical issues`;
}
//# sourceMappingURL=prompts.js.map